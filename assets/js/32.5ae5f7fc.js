(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{305:function(t,a,s){"use strict";s.r(a);var e=s(38),n=Object(e.a)({},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"react"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react","aria-hidden":"true"}},[t._v("#")]),t._v(" React")]),t._v(" "),s("blockquote",[s("p",[t._v("Record React Materials In Project")])]),t._v(" "),s("h2",{attrs:{id:"create-react-app"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#create-react-app","aria-hidden":"true"}},[t._v("#")]),t._v(" Create React App")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://www.html.cn/create-react-app/docs/getting-started/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Create React App"),s("OutboundLink")],1),t._v("为官方推荐脚手架，快速搭建 react 开发环境，创建单页面，简称CRA")]),t._v(" "),s("ol",[s("li",[t._v("不必过多了解构建工具，更专注于开发")]),t._v(" "),s("li",[t._v("只需要引入一个依赖项，即 creat react app，它来确保顶层的部分无缝协调工作")]),t._v(" "),s("li",[t._v("你可以对底层依赖自由配置")])]),t._v(" "),s("h3",{attrs:{id:"install-update"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#install-update","aria-hidden":"true"}},[t._v("#")]),t._v(" Install && Update")]),t._v(" "),s("p",[t._v("在当前路径下新建一个名为 rApp 的 react app，可以：")]),t._v(" "),s("ol",[s("li",[s("code",[t._v("npx create-react-app rapp")]),t._v("  npx 为 npm5.2+ 附带的包运行工具")]),t._v(" "),s("li",[t._v("也可以执行 "),s("code",[t._v("npm init react-app rapp")])])]),t._v(" "),s("p",[t._v("注意，project name 内不能含有大写字母，否则会出现 "),s("code",[t._v("Error: name can no longer containe capital letters")])]),t._v(" "),s("p",[t._v("通过 "),s("code",[t._v("npm install react-scripts@latest")]),t._v(" 对 react app 进行更新")]),t._v(" "),s("p",[t._v("安装成功之后，通过 "),s("code",[t._v("package.json")]),t._v(" 查看运行命令，值得一提的是，"),s("code",[t._v("npm run eject")]),t._v(" 添加一些高级配置，单向操作（这意味着你不能back）")]),t._v(" "),s("p",[t._v("通过 "),s("code",[t._v("npm install --save xxxx")]),t._v(" 来安装依赖项")]),t._v(" "),s("p",[t._v("如果需要声明全局变量，最好不要在 .html 文件内直接声明，挂载到 "),s("code",[t._v("window")]),t._v(" 对象上是更好的办法")]),t._v(" "),s("p",[t._v("例如，通过执行 "),s("code",[t._v("npm install --save react-router-dom")]),t._v(" 来添加路由解决方案，如果提示有漏洞，执行 "),s("code",[t._v("npm audit fix --force")]),t._v(" 来修复漏洞")]),t._v(" "),s("h3",{attrs:{id:"config"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#config","aria-hidden":"true"}},[t._v("#")]),t._v(" Config")]),t._v(" "),s("p",[t._v("React 项目 build 的路径问题")]),t._v(" "),s("ul",[s("li",[t._v("通过修改 "),s("code",[t._v("ceeate-react-app.config > paths.js")]),t._v(" 文件内的 "),s("code",[t._v("getServedPath()")]),t._v(" 方法解决")])]),t._v(" "),s("p",[t._v("修改启动端口")]),t._v(" "),s("ul",[s("li",[t._v("clone 项目之后，通过 "),s("code",[t._v("npm install")]),t._v(" 安装依赖")]),t._v(" "),s("li",[t._v("如果之前 "),s("code",[t._v("npm run eject")]),t._v(" 则会将配置暴露出来，在 "),s("code",[t._v("scripts/start.js")]),t._v(" 内修改端口号")])]),t._v(" "),s("p",[t._v("为项目 scr 目录设置别名")]),t._v(" "),s("ul",[s("li",[t._v("在 config>paths.js 文件内，添加 "),s("code",[t._v("appSrc: resolveApp('src'),")]),t._v("，如果已经存在，则不用添加")]),t._v(" "),s("li",[t._v("在 config>webpack.config.js 文件内，添加别名 "),s("code",[t._v("alias: { '@': paths.appScr }")])]),t._v(" "),s("li",[t._v("如果项目内引入了 TypeScript，在 tsconfig.json 文件内添加 "),s("code",[t._v('"paths": { "@/*": ["src/*"] }')])])]),t._v(" "),s("h3",{attrs:{id:"file-structure"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#file-structure","aria-hidden":"true"}},[t._v("#")]),t._v(" File Structure")]),t._v(" "),s("p",[s("code",[t._v("public/index.html")]),t._v(" 为 html 模板，"),s("code",[t._v("src/index.js")]),t._v(" 为 Javascript 入口文件，以上两者文件名均不可更改，其他随意")]),t._v(" "),s("p",[t._v("webpack 仅会编译 "),s("code",[t._v("src")]),t._v(" 目录下的文件，其他的顶级目录不会被包含到生产环境，因此可以在 "),s("code",[t._v("Public")]),t._v(" 目录下放一些静态资源")]),t._v(" "),s("h3",{attrs:{id:"style-assets"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#style-assets","aria-hidden":"true"}},[t._v("#")]),t._v(" style && assets")]),t._v(" "),s("p",[t._v("在 javascript 文件内直接引入 .css 文件来表明对该样式表的依赖")]),t._v(" "),s("p",[t._v("通过命名规约 "),s("code",[t._v("Xxx.module.css")]),t._v(" 来引入 css 模块（相当于公共样式）")]),t._v(" "),s("p",[t._v("通过 "),s("code",[t._v("npm install node-sass --save")]),t._v(" 来安装 Sass 编译器")]),t._v(" "),s("p",[t._v("create-react-app 会自动压缩 css 并通过 Autoprefixer 来补全前缀")]),t._v(" "),s("p",[t._v("类似 css，通过 "),s("code",[t._v("import")]),t._v(" 在 javascript 文件中引入图片，字体等资源")]),t._v(" "),s("p",[t._v("引入 public 文件夹内的资源时，需要通过 "),s("code",[t._v("%PUBLIC_URL%")]),t._v(" 来指定路径")]),t._v(" "),s("h2",{attrs:{id:"react-router"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react-router","aria-hidden":"true"}},[t._v("#")]),t._v(" React Router")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://reacttraining.com/react-router/web/guides/quick-start",target:"_blank",rel:"noopener noreferrer"}},[t._v("react 路由组件"),s("OutboundLink")],1),t._v(" 通过 "),s("code",[t._v("npm install react-router-dom --save")]),t._v(" 来引入")]),t._v(" "),s("p",[t._v("react router 内包含三种类型组件：")]),t._v(" "),s("ol",[s("li",[t._v("路由器组件")]),t._v(" "),s("li",[t._v("路由器匹配组件")]),t._v(" "),s("li",[t._v("导航组件")])]),t._v(" "),s("p",[t._v("理解：路由器匹配组件一般映射一个模块，当 url 改变时则会去匹配该模块并展示，但是所有的路由器匹配组件都必须被包裹在路由器组件内")]),t._v(" "),s("h3",{attrs:{id:"withrouter"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#withrouter","aria-hidden":"true"}},[t._v("#")]),t._v(" withRouter")]),t._v(" "),s("p",[t._v("给空间绑定事件，使其能够通过 javascript 来实现跳转，通过 "),s("code",[t._v("withRouter")]),t._v(" 来实现")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" withRouter "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react-router-dom'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FlowHeader")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Component")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("FlowHeaderProps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" FlowHeaderState"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// statement")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("handleRouter")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("index")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" selectedItem "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" flowItems"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("selectedItem"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("label "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("currentItem"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("history"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("withRouter")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("FlowHeader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// use in redux")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("withRouter")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("connect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("MyComponent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br")])]),s("h3",{attrs:{id:"router"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#router","aria-hidden":"true"}},[t._v("#")]),t._v(" router")]),t._v(" "),s("p",[t._v("路由器组件，是 react router 的"),s("strong",[t._v("地基")]),t._v("，两个关注组件 "),s("code",[t._v("<BroswerRouter>")]),t._v(" 和 "),s("code",[t._v("<HashRouter>")])]),t._v(" "),s("p",[t._v("一般来说，如果有服务器交互，则应该使用 "),s("code",[t._v("<BroswerRouter>")]),t._v("，如果作为静态文件服务器，则使用 "),s("code",[t._v("<HashRouter>")])]),t._v(" "),s("p",[s("code",[t._v("<BroswerRouter>")]),t._v(" 利用 H5.history.api(pushState, replaceState, popState) 来实现 UI 和 URL 的同步")]),t._v(" "),s("p",[s("code",[t._v("<HashRouter>")]),t._v(" 利用 window.location.hash 来实现 UI 和 URL 的同步")]),t._v(" "),s("h3",{attrs:{id:"router-matching"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#router-matching","aria-hidden":"true"}},[t._v("#")]),t._v(" router matching")]),t._v(" "),s("p",[t._v("路由器匹配组件，两个关注组件 "),s("code",[t._v("<Route>")]),t._v(" 和 "),s("code",[t._v("<Switch>")])]),t._v(" "),s("p",[s("code",[t._v("<Route>")]),t._v(" 通过比较组件设置的path和当前URL的路径，如果能够匹配上，则返回内容，否则返回 null；如果不设置 path 属性，则一定会匹配")]),t._v(" "),s("p",[s("code",[t._v("<Switch>")]),t._v(" 组件通常用来包裹 "),s("code",[t._v("<Route>")]),t._v(" list，在 "),s("code",[t._v("<Switch>")]),t._v(" 中按照组合的先后顺序进行遍历，返回第一个匹配的 "),s("code",[t._v("<Route>")]),t._v("，如果一个都没匹配上，可以设置一个无path属性的 "),s("code",[t._v("<Route>")]),t._v(" 来作为 404 页面")]),t._v(" "),s("h3",{attrs:{id:"use-in-app"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#use-in-app","aria-hidden":"true"}},[t._v("#")]),t._v(" Use In App")]),t._v(" "),s("p",[t._v("在 react 项目中，对 react-router 的封装")]),t._v(" "),s("ol",[s("li",[s("code",[t._v("RouteConfig.js")]),t._v(" 用来引入相关的组件，实现对路由的配置，实现对 "),s("code",[t._v("<Route>")]),t._v(" API 的相关属性配置")]),t._v(" "),s("li",[s("code",[t._v("Router.js")]),t._v(" 用来实现路由递归逻辑，输入 config，输出 react-router 相关的组件")]),t._v(" "),s("li",[t._v("在 "),s("code",[t._v("app.js")]),t._v(" 内引入 "),s("code",[t._v("RouteConfig.js")]),t._v(" 和 "),s("code",[t._v("Router.js")]),t._v("，并通过 "),s("code",[t._v("<BrowserRouter>")]),t._v(" 或者其他 API 来封装启动路由")])]),t._v(" "),s("h2",{attrs:{id:"bizcharts"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bizcharts","aria-hidden":"true"}},[t._v("#")]),t._v(" Bizcharts")]),t._v(" "),s("h3",{attrs:{id:"scale"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#scale","aria-hidden":"true"}},[t._v("#")]),t._v(" scale")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" scale "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 针对 date 数据列")]),t._v("\n    date"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 数据类型，非连续的时间类型")]),t._v("\n        type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cat'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n         * range 用来控制坐标轴两边的留白\n         * 对于分类数据的坐标轴两边默认会有留白\n         * 连续数据的坐标轴的两端没有空白刻度\n         * 留白程度通过 range 来控制\n         */")]),t._v("\n        range"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.9")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br")])]),s("h2",{attrs:{id:"react-hot-loader"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react-hot-loader","aria-hidden":"true"}},[t._v("#")]),t._v(" React Hot Loader")]),t._v(" "),s("blockquote",[s("p",[t._v("React Hot Loader is a plugin that allows React components to be live reloaded without the loss of state")])]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/gaearon/react-hot-loader",target:"_blank",rel:"noopener noreferrer"}},[t._v("React-hot-loader"),s("OutboundLink")],1),t._v(" 是一个插件，允许 React 组件在不丢失状态的条件下进行实时重新加载操作")]),t._v(" "),s("p",[t._v("webpack-dev-server 也实现了热加载，但是是在代码改动后，经过重新打包，进而重新刷新整个页面")]),t._v(" "),s("p",[t._v("不同于 webpack-dev-server，react-hot-loader 不会刷新整个页面，它只替换修改的代码，进而做到了页面的局部刷新，其需要依赖 webpack 的 HotModuleReplacement 热加载插件")]),t._v(" "),s("h3",{attrs:{id:"use-in-app-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#use-in-app-2","aria-hidden":"true"}},[t._v("#")]),t._v(" Use In App")]),t._v(" "),s("ol",[s("li",[s("code",[t._v("npm install react-hot-loader --save")]),t._v(" 引入 react-hot-loader")]),t._v(" "),s("li",[t._v("配置 .babelrc 文件，启用相关插件，在 create react app 且 "),s("code",[t._v("npm run eject")]),t._v(" 之后，可以直接在 package.json 内进行 babel 相关配置")])]),t._v(" "),s("div",{staticClass:"language-json line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"babel"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"presets"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n\t  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"react-app"')]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"plugins"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n\t  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"react-hot-loader/babel"')]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("ol",{attrs:{start:"3"}},[s("li",[t._v("webpack 进行相关文件配置，用来保证 react-hot-loader 在引入 "),s("code",[t._v("react")]),t._v(" 和 "),s("code",[t._v("react-dom")]),t._v(" 之前加载")])]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// webpackDevServer.config.js")]),t._v("\nmodule"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("exports")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("proxy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" allowedHost")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\thot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// webpack.config.js")]),t._v("\nentry"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react-hot-loader/patch'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br")])]),s("ol",{attrs:{start:"4"}},[s("li",[t._v("在项目文件内使用")])]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// App.js")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" hot "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react-hot-loader/root'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("App")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("Hello World"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("hot")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("App"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("h2",{attrs:{id:"node-sass-安装问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#node-sass-安装问题","aria-hidden":"true"}},[t._v("#")]),t._v(" Node-Sass 安装问题")]),t._v(" "),s("p",[t._v("clone 一个 react 项目后，在执行 "),s("code",[t._v("npm install")]),t._v(" 之后，发现 node-sass 安装出现问题，原因是无法自动下载相应的文件")]),t._v(" "),s("p",[t._v("解决办法：")]),t._v(" "),s("ul",[s("li",[t._v("手动下载需要引入的文件，一般在 install 时会自动下载，将下载文件放在nodejs的根目录下")]),t._v(" "),s("li",[t._v("进入项目根目录，设置 sass 路径，"),s("code",[t._v("set SASS_BINARY_PATH=[file path]")])]),t._v(" "),s("li",[t._v("继续执行 "),s("code",[t._v("npm i node-sass -D -verbose")]),t._v(" 即可")])])])},[],!1,null,null,null);a.default=n.exports}}]);