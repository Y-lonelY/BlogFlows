(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{269:function(t,s,n){t.exports=n.p+"assets/img/server.e228a944.png"},270:function(t,s,n){t.exports=n.p+"assets/img/reverse-server.e2536668.png"},287:function(t,s,n){"use strict";n.r(s);var a=n(38),e=Object(a.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx","aria-hidden":"true"}},[t._v("#")]),t._v(" Nginx")]),t._v(" "),a("blockquote",[a("p",[t._v("Nginx是一款轻量级的HTTP服务器，采用事件驱动的异步非阻塞处理方式框架，这让其具有极好的IO性能，时常用于服务端的反向代理和负载均衡")])]),t._v(" "),a("h2",{attrs:{id:"what-s-nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-nginx","aria-hidden":"true"}},[t._v("#")]),t._v(" What's nginx?")]),t._v(" "),a("p",[t._v("nginx 可以简单理解成一个服务器")]),t._v(" "),a("ul",[a("li",[t._v("在处理高并发比apache更具优势")]),t._v(" "),a("li",[t._v("在底层服务端资源处理（静态资源处理转发、反向代理、负载均衡等）比node.js更具优势")])]),t._v(" "),a("h3",{attrs:{id:"nginx-的研究方向"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx-的研究方向","aria-hidden":"true"}},[t._v("#")]),t._v(" nginx 的研究方向")]),t._v(" "),a("p",[t._v("不同的 nginx 配置可以实现同样的功能，但是他们的效率会有较大差别，所以需要了解 nginx 的最优解")]),t._v(" "),a("h3",{attrs:{id:"正向代理和反向代理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#正向代理和反向代理","aria-hidden":"true"}},[t._v("#")]),t._v(" 正向代理和反向代理")]),t._v(" "),a("p",[t._v("代理指的是代理服务器，介于客户端和服务器之间")]),t._v(" "),a("ul",[a("li",[t._v("正向表示代理的是客户端")]),t._v(" "),a("li",[t._v("反向表示代理的是服务器")])]),t._v(" "),a("p",[a("img",{attrs:{src:n(269),alt:"正向代理"}})]),t._v(" "),a("p",[t._v("正向代理")]),t._v(" "),a("ul",[a("li",[t._v("客户端和代理服务器之间可以相互访问，属于一个 LAN")]),t._v(" "),a("li",[t._v("代理对于用户是非透明的，即用户需要自己操作或者感知得到自己的请求被发送到代理服务器")]),t._v(" "),a("li",[t._v("代理服务器通过代理客户端的请求来向域外服务器请求响应内容")])]),t._v(" "),a("p",[a("img",{attrs:{src:n(270),alt:"反向代理"}})]),t._v(" "),a("p",[t._v("反向代理")]),t._v(" "),a("ul",[a("li",[t._v("代理服务器和内部服务器同可以相互访问，属于一个 LAN")]),t._v(" "),a("li",[t._v("代理服务器会向客户端提供一个统一的代理入口，客户端请求由代理服务控制")]),t._v(" "),a("li",[t._v("nginx 充当的就是代理服务器的角色")])]),t._v(" "),a("p",[t._v("反向代理的好处")]),t._v(" "),a("ul",[a("li",[t._v("安全和权限，可以在 nginx 层将危险和无权限的信息过滤掉，保证服务器的安全")]),t._v(" "),a("li",[t._v("负载均衡，nginx 可以将客户端请求合理分配到各个服务器上，同时可以通过轮询提供服务器安全检测服务，如果某个服务器异常，则不会为其分配请求，保证客户端访问的稳定性")])]),t._v(" "),a("h3",{attrs:{id:"config"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#config","aria-hidden":"true"}},[t._v("#")]),t._v(" config")]),t._v(" "),a("p",[t._v("基本配置")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("server "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    listen       "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1717")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    server_name  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10.249")]),t._v(".41.99"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\tcharset utf-8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("gzip")]),t._v(" on"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tgzip_http_version "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tgzip_vary on"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\tgzip_comp_level "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\tgzip_proxied any"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\tgzip_types text/plain text/css application/json application/x-javascript text/xml application/xml application/xml+rss text/javascript image/jpeg image/gif image/png"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\t\tgzip_buffers "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),t._v(" 8k"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\n\tlocation / "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\troot   C:/Users/yanghao02/Desktop/github/ylonePlugins/reveal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        index  index.html index.htm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br")])]),a("h3",{attrs:{id:"q-a"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#q-a","aria-hidden":"true"}},[t._v("#")]),t._v(" Q&A")]),t._v(" "),a("ol",[a("li",[a("code",[t._v("CreateDirectory()...failed (3: The system cannot find the path specified)")])])]),t._v(" "),a("p",[t._v("nginx 对于某个文件夹没有访问权限，无法创建 temp 文件夹")]),t._v(" "),a("p",[t._v("解决办法，添加如下代码，同时在nginx根目录手动创建temp及子文件夹")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("http {\n\t\tclient_body_temp_path temp/client_body_temp;\n\t\tproxy_temp_path temp/proxy_temp;\n    \tfastcgi_temp_path temp/fastcgi_temp;\n\t}\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])])])},[],!1,null,null,null);s.default=e.exports}}]);