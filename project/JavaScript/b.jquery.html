<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JQuery | LoreFlows</title>
    <meta name="description" content="Welcome To The Knowledge Palace!">
    <link rel="icon" href="logo.ico">
    
    <link rel="preload" href="/BlogFlows/assets/css/0.styles.481dacda.css" as="style"><link rel="preload" href="/BlogFlows/assets/js/app.40814e45.js" as="script"><link rel="preload" href="/BlogFlows/assets/js/2.f4cb1acf.js" as="script"><link rel="preload" href="/BlogFlows/assets/js/39.4f2411ff.js" as="script"><link rel="prefetch" href="/BlogFlows/assets/js/10.ef3b0305.js"><link rel="prefetch" href="/BlogFlows/assets/js/11.38947e9d.js"><link rel="prefetch" href="/BlogFlows/assets/js/12.8b23f1ea.js"><link rel="prefetch" href="/BlogFlows/assets/js/13.24ed00e3.js"><link rel="prefetch" href="/BlogFlows/assets/js/14.aae22bb5.js"><link rel="prefetch" href="/BlogFlows/assets/js/15.3b0cf42b.js"><link rel="prefetch" href="/BlogFlows/assets/js/16.8678c867.js"><link rel="prefetch" href="/BlogFlows/assets/js/17.bdfeb8b8.js"><link rel="prefetch" href="/BlogFlows/assets/js/18.ef671b42.js"><link rel="prefetch" href="/BlogFlows/assets/js/19.f00581ec.js"><link rel="prefetch" href="/BlogFlows/assets/js/20.2ba75e59.js"><link rel="prefetch" href="/BlogFlows/assets/js/21.66731536.js"><link rel="prefetch" href="/BlogFlows/assets/js/22.98d195b0.js"><link rel="prefetch" href="/BlogFlows/assets/js/23.e2de6496.js"><link rel="prefetch" href="/BlogFlows/assets/js/24.eba99031.js"><link rel="prefetch" href="/BlogFlows/assets/js/25.940fcbad.js"><link rel="prefetch" href="/BlogFlows/assets/js/26.396566fe.js"><link rel="prefetch" href="/BlogFlows/assets/js/27.1b426bcf.js"><link rel="prefetch" href="/BlogFlows/assets/js/28.c54b329d.js"><link rel="prefetch" href="/BlogFlows/assets/js/29.1d2b27d7.js"><link rel="prefetch" href="/BlogFlows/assets/js/3.d93bcbe1.js"><link rel="prefetch" href="/BlogFlows/assets/js/30.5163333a.js"><link rel="prefetch" href="/BlogFlows/assets/js/31.f028e790.js"><link rel="prefetch" href="/BlogFlows/assets/js/32.5ae5f7fc.js"><link rel="prefetch" href="/BlogFlows/assets/js/33.16d9b5f5.js"><link rel="prefetch" href="/BlogFlows/assets/js/34.73d6e4cb.js"><link rel="prefetch" href="/BlogFlows/assets/js/35.43fcd6c1.js"><link rel="prefetch" href="/BlogFlows/assets/js/36.f5632390.js"><link rel="prefetch" href="/BlogFlows/assets/js/37.546db6b1.js"><link rel="prefetch" href="/BlogFlows/assets/js/38.72d3a4b0.js"><link rel="prefetch" href="/BlogFlows/assets/js/4.605f48a5.js"><link rel="prefetch" href="/BlogFlows/assets/js/40.2806c4eb.js"><link rel="prefetch" href="/BlogFlows/assets/js/41.10456487.js"><link rel="prefetch" href="/BlogFlows/assets/js/42.7ab57285.js"><link rel="prefetch" href="/BlogFlows/assets/js/43.f9cbcf2a.js"><link rel="prefetch" href="/BlogFlows/assets/js/44.53149759.js"><link rel="prefetch" href="/BlogFlows/assets/js/45.9cfccb3b.js"><link rel="prefetch" href="/BlogFlows/assets/js/46.86ee102e.js"><link rel="prefetch" href="/BlogFlows/assets/js/47.fa53f0e1.js"><link rel="prefetch" href="/BlogFlows/assets/js/48.2b0359d9.js"><link rel="prefetch" href="/BlogFlows/assets/js/5.deeb8ef3.js"><link rel="prefetch" href="/BlogFlows/assets/js/6.01480eef.js"><link rel="prefetch" href="/BlogFlows/assets/js/7.3965e4fd.js"><link rel="prefetch" href="/BlogFlows/assets/js/8.1ce9193f.js"><link rel="prefetch" href="/BlogFlows/assets/js/9.61a50a6d.js">
    <link rel="stylesheet" href="/BlogFlows/assets/css/0.styles.481dacda.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/BlogFlows/" class="home-link router-link-active"><!----> <span class="site-name">LoreFlows</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/BlogFlows/core/" class="nav-link">核心</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">工程</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/BlogFlows/project/" class="nav-link router-link-active">项目</a></li><li class="dropdown-item"><!----> <a href="/BlogFlows/normalize/" class="nav-link">规范</a></li><li class="dropdown-item"><!----> <a href="/BlogFlows/packages/" class="nav-link">类库</a></li></ul></div></div><div class="nav-item"><a href="/BlogFlows/concept/" class="nav-link">概念</a></div><div class="nav-item"><a href="/BlogFlows/tools/" class="nav-link">工具</a></div> <a href="https://github.com/yanGo1221" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/BlogFlows/core/" class="nav-link">核心</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">工程</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/BlogFlows/project/" class="nav-link router-link-active">项目</a></li><li class="dropdown-item"><!----> <a href="/BlogFlows/normalize/" class="nav-link">规范</a></li><li class="dropdown-item"><!----> <a href="/BlogFlows/packages/" class="nav-link">类库</a></li></ul></div></div><div class="nav-item"><a href="/BlogFlows/concept/" class="nav-link">概念</a></div><div class="nav-item"><a href="/BlogFlows/tools/" class="nav-link">工具</a></div> <a href="https://github.com/yanGo1221" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/BlogFlows/project/" class="sidebar-link">Overview</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JavaScript</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/BlogFlows/project/JavaScript/a.javascript.html" class="sidebar-link">JavaScript</a></li><li><a href="/BlogFlows/project/JavaScript/b.jquery.html" class="active sidebar-link">JQuery</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/BlogFlows/project/JavaScript/b.jquery.html#wisdomtree-插件开发" class="sidebar-link">wisdomTree 插件开发</a></li><li class="sidebar-sub-header"><a href="/BlogFlows/project/JavaScript/b.jquery.html#highcharts" class="sidebar-link">Highcharts</a></li><li class="sidebar-sub-header"><a href="/BlogFlows/project/JavaScript/b.jquery.html#ajax" class="sidebar-link">ajax</a></li></ul></li><li><a href="/BlogFlows/project/JavaScript/last.units.html" class="sidebar-link">Units</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Css</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/BlogFlows/project/Css/a.cluster.html" class="sidebar-link">Css</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>React</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/BlogFlows/project/React/a.redux.html" class="sidebar-link">Redux</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>TypeScript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/BlogFlows/project/TypeScript/a.typescript.html" class="sidebar-link">TypeScript</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>HTML5</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/BlogFlows/project/HTML5/a.html5.html" class="sidebar-link">H5</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Swift</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/BlogFlows/project/Swift/a.cluster.html" class="sidebar-link">Cluster</a></li><li><a href="/BlogFlows/project/Swift/b.matters.html" class="sidebar-link">Matters</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="jquery"><a href="#jquery" aria-hidden="true" class="header-anchor">#</a> JQuery</h1> <blockquote><p>记录在使用Jquery进行实际开发过程中的应用</p></blockquote> <h2 id="wisdomtree-插件开发"><a href="#wisdomtree-插件开发" aria-hidden="true" class="header-anchor">#</a> wisdomTree 插件开发</h2> <p>jquery插件的开发模式一般而言，有三种：</p> <ul><li><code>$.extend()</code>来扩展jQuery</li> <li><code>$.fn</code> 向jQuery添加新的方法</li> <li><code>$.widget()</code>应用jQuery UI的部件工厂方式创建</li></ul> <p>整个插件开发思路就是创建一个对象，并将该对象挂载至jQuery的命名空间，从而在各个模块能够调用</p> <h3 id="extend"><a href="#extend" aria-hidden="true" class="header-anchor">#</a> $.extend()</h3> <p><code>$.extend()</code>函数用于将一个或多个对象的内容合并到目标对象并返回目标对象（第一个对象）</p> <p><code>$.extend()</code> 基本用法，可以看出<code>$.extend()</code>返回对象中的所有属性（可理解为属性求和），且属性值向后取值</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 对象属性相同，属性值不同</span>
$<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">'yh'</span><span class="token punctuation">,</span>num<span class="token punctuation">:</span><span class="token number">9</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">'ylone'</span><span class="token punctuation">,</span>num<span class="token punctuation">:</span><span class="token number">22</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">'ylone666'</span><span class="token punctuation">,</span>num<span class="token punctuation">:</span><span class="token number">666</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// {name: &quot;ylone666&quot;, num: 666}</span>

<span class="token comment">// 对象属性不同，且目标对象&lt;其他对象</span>
$<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">'yh'</span><span class="token punctuation">,</span>num<span class="token punctuation">:</span><span class="token number">9</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">'ylone'</span><span class="token punctuation">,</span>num<span class="token punctuation">:</span><span class="token number">22</span><span class="token punctuation">,</span>cool<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">'ylone666'</span><span class="token punctuation">,</span>num<span class="token punctuation">:</span><span class="token number">666</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// {name: &quot;ylone666&quot;, num: 666, cool: true}</span>

<span class="token comment">// 对象属性不同，且目标对象&gt;其他对象</span>
$<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">'yh'</span><span class="token punctuation">,</span>num<span class="token punctuation">:</span><span class="token number">9</span><span class="token punctuation">,</span>cool<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">'ylone'</span><span class="token punctuation">,</span>num<span class="token punctuation">:</span><span class="token number">22</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">'ylone666'</span><span class="token punctuation">,</span>num<span class="token punctuation">:</span><span class="token number">666</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// {name: &quot;ylone666&quot;, num: 666, cool: true}</span>


<span class="token comment">// 对象属性各不相同</span>
$<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">'yh'</span><span class="token punctuation">,</span>cool<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>num<span class="token punctuation">:</span><span class="token number">22</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>run<span class="token punctuation">:</span><span class="token number">199</span><span class="token punctuation">}</span><span class="token punctuation">)</span> 
<span class="token comment">// {name: &quot;yh&quot;, cool: true, num: 22, run: 199}</span>

<span class="token comment">// 将对象合并到jquery的全局对象中，可以在全局对其进行调用</span>
$<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token function-variable function">test</span><span class="token punctuation">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
$<span class="token punctuation">.</span>test  <span class="token comment">// ƒ (){console.log(&quot;test&quot;)}</span>
$<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// &quot;test&quot;</span>

<span class="token comment">// 重载原型,选择进行深度拷贝，第一个参数配置是否进行深度拷贝,可以看出，深度拷贝对对象里面的对象（即所有属性及其子属性）都进行了 `$.extend()` 操作</span>
$<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> 
    <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">&quot;yh&quot;</span><span class="token punctuation">,</span> location<span class="token punctuation">:</span> <span class="token punctuation">{</span>cool<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>num<span class="token punctuation">:</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> 
    <span class="token punctuation">{</span> last<span class="token punctuation">:</span> <span class="token string">&quot;ylone&quot;</span><span class="token punctuation">,</span> location<span class="token punctuation">:</span> <span class="token punctuation">{</span>state<span class="token punctuation">:</span> <span class="token string">&quot;well&quot;</span><span class="token punctuation">,</span>county<span class="token punctuation">:</span><span class="token string">&quot;China&quot;</span><span class="token punctuation">,</span> cool<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// {name: &quot;ylone&quot;, location: {cool:true,county:&quot;China&quot;,num:&quot;1&quot;,state:&quot;well&quot;}}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h3 id="fn"><a href="#fn" aria-hidden="true" class="header-anchor">#</a> $.fn</h3> <p><code>$.fn</code> 是指jquery的命名空间，加上fn上的方法及属性，会对jquery实例每一个有效,可以简单理解为在全局范围写函数方法</p> <p>如下相当于是对jquery扩展了一个<em>wsTree</em>方法,那么后面你的每一个jquery实例都可以引用这个方法了.
那么你可以这样子：$(&quot;#div&quot;).wsTree();</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>$<span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function-variable function">wsTree</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> wisdomTree <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WISDOMTREE</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> wisdomTree<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>查看jquery源码, <code>jQuery.fn = jQuery.prototype = {...}</code>,向全局对象添加属性和方法,通过 <code>$(dom).jquery</code> 即可看到jquery的版本号</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>jQuery<span class="token punctuation">.</span>fn <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
<span class="token comment">// The current version of jQuery being used</span>
jquery<span class="token punctuation">:</span> version<span class="token punctuation">,</span>
constructor<span class="token punctuation">:</span> jQuery<span class="token punctuation">,</span>
<span class="token comment">// The default length of a jQuery object is 0</span>
length<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
<span class="token function-variable function">toArray</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// statement</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="面向对象"><a href="#面向对象" aria-hidden="true" class="header-anchor">#</a> 面向对象</h3> <p>这次开发过程对于面向对象的三个基本特性（封装，继承，多态）有了更深的理解</p> <p>使用面对对象的开发模式，方便管理，更重要的是不会污染外部的命名空间，实际上，我们只需要在全局命名空间上声明一个对象初始化的方法，然后将函数和变量写在对象的内部，变成对象的方法和对象的属性就好了</p> <h3 id="自调用匿名函数包裹代码块"><a href="#自调用匿名函数包裹代码块" aria-hidden="true" class="header-anchor">#</a> 自调用匿名函数包裹代码块</h3> <p>一个自我调用的匿名函数在创建时自动,立即运行，并且没有名字，因此被称为<strong>自调用匿名函数</strong></p> <p>基本格式：<code>;(fucntion($, window, document, undefined){ code... })(jQuery, window, document)</code></p> <p>作用原理：函数可以形成一个作用域，域内的代码是无法被外界访问的，如果我们将自己的代码放入一个函数中，那么就不会污染全局命名空间，同时不会和别的代码冲突。另外一个好处就是，自调用匿名函数里面的代码会在第一时间执行，页面准备好后，上面的代码就将插件准备好了，以方便在后面的代码中使用插件</p> <p>函数前的 <code>;</code> 作用：自调用匿名函数与上一段代码相连，如果上一段代码没有以分号结束，而我们又没有主动地加上分好，那么会导致函数编译出错</p> <p>将系统变量以参数形式传递到插件内部，可以提高对系统变量的访问速度，其中 <code>undefined</code> 的妙处在于：为了得到没有被修改的  <code>undefined</code>，我们并没有传递这个参数，但却在接收时接收了它，因为实际并没有传，所以<code>undefined</code>那个位置接收到的就是真实的<code>undefined</code></p> <h2 id="highcharts"><a href="#highcharts" aria-hidden="true" class="header-anchor">#</a> Highcharts</h2> <h3 id="两个散点图的-tooltips-联动"><a href="#两个散点图的-tooltips-联动" aria-hidden="true" class="header-anchor">#</a> 两个散点图的 tooltips 联动</h3> <p>思路就是将两个散点图数据的共有属性之一传入ID，当在chart1上hover点位的时候，获取该点ID，然后通过ID获取到chart2的highchart对象，获取对应点位以及tooltip对象，通过 <code>point.setState()</code> 和 <code>tooltip.refresh()</code> 来响应事件</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>point<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    events<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">mouseOver</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">var</span> id <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>series<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>id<span class="token punctuation">;</span>
            <span class="token keyword">var</span> targetChart <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span>elseEle<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">siblings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">highcharts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> pointer <span class="token operator">=</span> targetChart<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> tooltip <span class="token operator">=</span> targetChart<span class="token punctuation">.</span>tooltip<span class="token punctuation">;</span>
            pointer<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token string">'hover'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            tooltip<span class="token punctuation">.</span><span class="token function">refresh</span><span class="token punctuation">(</span>pointer<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="处理由于词段太长导致-legend-展示不下的问题"><a href="#处理由于词段太长导致-legend-展示不下的问题" aria-hidden="true" class="header-anchor">#</a> 处理由于词段太长导致 legend 展示不下的问题</h3> <p>解决思路：放置在图形下方，根据 item-nums 来动态设置 itemWidth</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// legend 属性设置</span>
<span class="token comment">// 根据图例数量来动态设置 itemWidth</span>
<span class="token keyword">let</span> legend <span class="token operator">=</span>  <span class="token punctuation">{</span>
    align<span class="token punctuation">:</span> <span class="token string">'left'</span><span class="token punctuation">,</span>
    verticalAlign<span class="token punctuation">:</span> <span class="token string">'bottom'</span><span class="token punctuation">,</span>
    x<span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span>
    y<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    floating<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    maxHeight<span class="token punctuation">:</span> <span class="token number">120</span><span class="token punctuation">,</span>
    itemWidth<span class="token punctuation">:</span> <span class="token number">80</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="ajax"><a href="#ajax" aria-hidden="true" class="header-anchor">#</a> ajax</h2> <h3 id="多个-ajax-请求问题"><a href="#多个-ajax-请求问题" aria-hidden="true" class="header-anchor">#</a> 多个 ajax 请求问题</h3> <p>同一个方法里面如果有两个 ajax 请求，两个ajax异步请求冲突，因为异步问题，在onload方法中调用两个ajax异步，其实相当于同时发送两个请求。执行的快与慢，要看响应的数据量的大小及后台逻辑的复杂程度，若后者快于前者，则会出现错误</p> <p>解决办法</p> <ul><li>Ajax2()方法的执行放到Ajax1()的success回调函数的最后一行</li> <li>Ajax1()的异步请求方法中，增加一个回调函数 ：complete : Ajax2</li> <li>把Ajax1()的异步设为同步：async : false</li></ul> <p>对于两个 ajax 请求冲突的情况，上述代码是可行的，但是对于多个，利用 ES6 的 <code>Promise.all(array)</code> 语法糖会更简洁</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">9/30/2019, 2:13:47 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/BlogFlows/project/JavaScript/a.javascript.html" class="prev">
          JavaScript
        </a></span> <span class="next"><a href="/BlogFlows/project/JavaScript/last.units.html">
          Units
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/BlogFlows/assets/js/app.40814e45.js" defer></script><script src="/BlogFlows/assets/js/2.f4cb1acf.js" defer></script><script src="/BlogFlows/assets/js/39.4f2411ff.js" defer></script>
  </body>
</html>
